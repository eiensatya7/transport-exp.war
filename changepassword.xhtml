<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
    xmlns:s="http://jboss.com/products/seam/taglib"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:rich="http://richfaces.org/rich"
    xmlns:a4j="http://richfaces.org/a4j"
    template="hometemplate.xhtml">

<ui:define name="body">
<a4j:outputPanel ajaxRendered="true">
<h:messages globalOnly="true" styleClass="message" id="globalMessages" errorStyle="color:red" infoStyle="color:green"/>
</a4j:outputPanel>
   
 <s:div id="profileId" >

<h:form id="profile" styleClass="edit">
        <rich:panel>
         
            <f:facet name="header">Change Password</f:facet>

             <s:decorate id="oldPasswordField" template="edit.xhtml">
                <ui:define name="label">Old Password</ui:define>
                <h:inputText id="oldpassword"
                           size="65"
                      maxlength="65"
                          value="#{customerDataAction.oldPassword}" required="true" requiredMessage="Value required">
                    <a4j:support event="onblur" reRender="oldPasswordField" bypassUpdates="true" ajaxSingle="true"/>
                </h:inputText>
            </s:decorate>

           <s:decorate id="newPasswordField" template="edit.xhtml">
                <ui:define name="label">New Password</ui:define>
                <h:inputText id="newpassword"
                           size="65"
                      maxlength="65"
                          value="#{customerDataAction.newPassword}" required="true">
                    <a4j:support event="onblur" reRender="newPasswordField" bypassUpdates="true" ajaxSingle="true"/>
                </h:inputText>
            </s:decorate>


             <s:decorate id="confirmPasswordField" template="edit.xhtml">
                <ui:define name="label">Confirm Password</ui:define>
                <h:inputText id="confirmpassword"
                           size="65"
                      maxlength="65"
                          value="#{customerDataAction.confirmPassword}" required="true">
                    <a4j:support event="onblur" reRender="confirmPasswordField" bypassUpdates="true" ajaxSingle="true"/>
                </h:inputText>
            </s:decorate>
            
             
            
            <div style="clear:both">
                <span class="required">*</span>
                required fields
            </div>

       </rich:panel>
       
       <div class="actionButtons">

          
            <a4j:commandButton id="Change"
                          value="Change Password"
                         actionListener="#{customerDataAction.changePassword}"
                      action="/customerhome.seam" 
                      reRender="profileId"
                       onclick="Richfaces.showModalPanel('processingMdlPanel')" oncomplete="Richfaces.hideModalPanel('processingMdlPanel')"/>

           

            <a4j:commandButton id="cancel"
                   value="Cancel" action="/customerhome.seam" immediate="true" onclick="Richfaces.showModalPanel('processingMdlPanel')" oncomplete="Richfaces.hideModalPanel('processingMdlPanel')">
                   
               
             </a4j:commandButton>   
            

          

        </div>
       </h:form>
    
 </s:div>

</ui:define>

</ui:composition>
